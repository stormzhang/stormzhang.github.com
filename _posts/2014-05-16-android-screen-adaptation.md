---
layout: post
keywords: blog
description: blog
title: "Android 屏幕适配"
categories: [Android]
tags: [屏幕适配]
---
{% include codepiano/setup %}

众所周知，Android机型尺寸各种各样，于是屏幕适配就成了Android开发中很重要的一环。Android屏幕适配可能一些开发者都会遇到这样的问题，今天就来讲解下屏幕适配，其实Android屏幕适配也可以很简单。

## 基本概念

Android屏幕适配必须要理解的一些概念：

- px

是英文单词pixel的缩写，意为像素，屏幕上的点。我们通常所说的分辨率如480*800就是指的像素。

在设计领域中，像素是用来计算数码影像的最小单位。计算机中显示的图像并非连续的线条组成，而是由许多肉眼看不见的小点组成。如果把影像放大数倍，会发现这些连续色调其实是由许多色彩相近的小点所组成，这些小点就是构成影像的最小单位“像素”。由于是最小的独立显示单位，px均为整数，不会出现0.5px的情况。如：

看这个色彩鲜艳的LED灯（原图大小）

<img src="http://s4.sinaimg.cn/middle/6499f8f1hbd7b87ba5df3&690" />

你能想象这才是他的本来面目吗？（放大之后）

<img src="http://s5.sinaimg.cn/bmiddle/6499f8f1hbd7b8c1d5e24&690" />

- in

表示英寸，是屏幕的物理尺寸。每英寸等于2.54厘米。例如我们经常说的手机屏幕大小有，5（英）寸、4（英）寸就是指这个单位。这些尺寸是屏幕的对角线长度。如果手机的屏幕是4英寸，表示手机的屏幕（可视区域）对角线长度是4*2.54 = 10.16厘米。

* dpi

dpi是Dots Per Inch的缩写, 每英寸点数，即每英寸包含像素个数。比如320*480分辨率的手机，宽2英寸，高3英寸, 每英寸包含的像素点的数量为320/2=160dpi（横向）或480/3=160dpi（纵向），160就是这部手机的dpi，横向和纵向的这个值都是相同的，原因是大部分手机屏幕使用正方形的像素点。

* density

屏幕密度，density和dpi的关系为 density = dpi/160

* dp

也即dip，设备独立像素，device independent pixels的缩写，Android特有的单位，在屏幕密度dpi = 160屏幕上，1dp = 1px。

* sp

和dp很类似，一般用来设置字体大小，和dp的区别是它可以根据用户的字体大小偏好来缩放。

## Android Drawable

我们新建一个Android项目后应该可以看到很多drawable文件夹，分别对应不同的dpi

* drawable-ldpi (dpi=120, density=0.75)

* drawable-mdpi (dpi=160, density=1)

* drawable-hdpi (dpi=240, density=1.5)

* drawable-xhdpi (dpi=320, density=2)

* drawable-xxhdpi (dpi=480, density=3)

市面上的一些Android教程大多都是教的是为每种dpi都出一套图片资源，这个固然是一种解决办法，但同时也是一种非常笨的方法，为美工或者设计增加了不少的工作量不说，同时也会让你的apk包变的很大。那么有没有什么好的方法既能保证屏幕适配，又可以最小占用设计资源，同时最好又只使用一套dpi的图片资源呢？下面就来讲解下项目中总结出来的这个方法。

首先必须清楚一个自动渲染的概念，Android SDK会自动屏幕尺寸选择对应的资源文件进行渲染，如SDK检测到你手机dpi是160的话会优先到drawable-mdpi文件夹下找对应的图片资源，注意只是优先，假设你手机dpi是160，但是你只在xhpdi文件夹下有对应的图片资源文件，程序一样可以正常运行。所以理论上来说只需要提供一种规格的图片资源就ok了，如果只提供ldpi规格的图片，对于大分辨率的手机如果把图片放大就会不清晰，所以需要提供一套你需要支持的最大dpi的图片，这样即使用户的手机分辨率很小，这样图片缩小依然很清晰。

## xhdpi

上面说了只需要提供一套大的dpi的图片就ok了，现在市面手机分辨率最大可达到1080*1920的分辨率，如Nexus5，dpi属于xxhdpi，但是毕竟还没普及，目前市面上最普遍的高端机的分辨率还多集中在720*1080范围，也就是多集中在xhdpi，所以目前来看xhpdi规则的图片成为了首选。当然随着技术规格的提高以后发展，以后可能市场上xxdpi的手机会越来越普遍，但这是后话。

## iPhone
